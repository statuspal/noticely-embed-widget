<!doctype html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Noticely Widget Demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-base-200 p-8">
    <div
      class="demo-container max-w-4xl mx-auto bg-base-100 rounded-2xl shadow-xl p-8"
    >
      <div class="hero bg-base-100 pb-8">
        <div class="hero-content text-center">
          <div class="max-w-md">
            <h1 class="text-5xl font-bold text-base-content">
              Noticely Widget
            </h1>
            <p class="py-6 text-base-content/70">
              Embeddable status widget built with Preact and DaisyUI design
              system
            </p>
          </div>
        </div>
      </div>

      <div class="card bg-base-200 shadow-md border-l-4 border-l-primary mb-8">
        <div class="card-body">
          <h3 class="card-title text-xl">ðŸ§ª Interactive Demo</h3>
          <p class="text-base-content/80 mb-4">
            Test the widget with different configurations (each button changes
            <code class="badge">window.NoticelyWidgetConfig</code> and reloads
            the widget):
          </p>
          <div class="card-actions">
            <button class="btn btn-primary" onclick="createBasicWidget()">
              Basic Widget
            </button>
            <button class="btn btn-primary" onclick="createDarkWidget()">
              Dark Theme
            </button>
            <button class="btn btn-primary" onclick="createTopWidget()">
              Top Position
            </button>
            <button class="btn btn-secondary" onclick="clearWidgets()">
              Disable Widget
            </button>
          </div>
        </div>
      </div>

      <div class="card bg-base-200 shadow-md border-l-4 border-l-primary">
        <div class="card-body">
          <h3 class="card-title text-xl">ðŸ“‹ Production Usage</h3>
          <p class="text-base-content/80 mb-4">
            This demo shows how the widget works in production. The widget
            automatically initializes based on
            <code class="badge">window.NoticelyWidgetConfig</code>.
          </p>
          <div class="bg-base-300 rounded-lg p-4 overflow-x-auto">
            <pre class="text-sm"><code>&lt;script&gt;
  window.NoticelyWidgetConfig = {
    subdomain: 'your-subdomain',
    theme: 'light', // or 'dark'
    position: 'bottom-right', // or 'bottom-left', 'top-right', 'top-left'
    enabled: true // set to false to disable the widget
  };
&lt;/script&gt;
&lt;script src="https://github.com/statuspal/noticely-embed-widget/releases/latest/download/main.iife.js"&gt;&lt;/script&gt;</code></pre>
          </div>
        </div>
      </div>
    </div>

    <script>
      window.NoticelyWidgetConfig = {
        subdomain: 'demo-production'
      };
    </script>
    <!-- We use the module version here for easier local development -->
    <script type="module" src="/src/main.tsx"></script>

    <script>
      // Demo functions that change config and reload widget

      window.createBasicWidget = () => {
        window.NoticelyWidgetConfig = {
          subdomain: 'demo-basic',
          theme: 'light',
          position: 'bottom-right'
        };
        window.NoticelyWidget.create();
      };

      window.createDarkWidget = () => {
        window.NoticelyWidgetConfig = {
          subdomain: 'demo-dark',
          theme: 'dark',
          position: 'bottom-left'
        };
        window.NoticelyWidget.create();
      };

      window.createTopWidget = () => {
        window.NoticelyWidgetConfig = {
          subdomain: 'demo-top',
          theme: 'light',
          position: 'top-right'
        };
        window.NoticelyWidget.create();
      };

      window.clearWidgets = () => {
        window.NoticelyWidgetConfig = {
          enabled: false
        };
        window.NoticelyWidget.create();
      };
    </script>
  </body>
</html>
